---
import { ButtonShadcn } from './ButtonShadcn';

interface Props {
    variant?: "default" | "destructive" | "outline" | "secondary" | "ghost" | "link";
    size?: "default" | "sm" | "lg" | "icon";
    class?: string;
    href?: string;
    type?: "button" | "submit" | "reset";
    disabled?: boolean;
    [key: string]: any;
}

const {
    variant = "default",
    size = "default",
    class: className = "",
    href,
    type = "button",
    disabled = false,
    ...rest
} = Astro.props;

// Map old variant names to new shadcn variants
const variantMap = {
    "primary": "default",
    "secondary": "secondary",
    "outline": "outline",
    "ghost": "ghost",
    "destructive": "destructive",
    "link": "link"
};

const mappedVariant = variantMap[variant] || variant;

// Map old size names to new shadcn sizes
const sizeMap = {
    "sm": "sm",
    "md": "default",
    "lg": "lg",
    "icon": "icon"
};

const mappedSize = sizeMap[size] || size;
---

<ButtonShadcn
    client:load
    variant={mappedVariant}
    size={mappedSize}
    class={className}
    href={href}
    type={type}
    disabled={disabled}
    {...rest}
>
    <slot />
</ButtonShadcn>
